<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.me.mps.mapper.OrderMapper">

    <insert id="saveOrder" parameterType="com.me.mps.dto.OrderDTO" useGeneratedKeys="true" keyProperty="orderId" keyColumn="order_id">
        INSERT INTO mps_order
        (
            user_id,
            total_n,
            number_x,
            status_x,
            crtBy_m,
            crtOn_dt
        )
        VALUES
        (
            #{userId,jdbcType=INTEGER},
            #{totalN,jdbcType=DOUBLE},
            #{numberX,jdbcType=VARCHAR},
            #{statusX,jdbcType=VARCHAR},
            #{crtByM,jdbcType=VARCHAR},
            #{crtOnDt,jdbcType=TIMESTAMP}
        )
    </insert>

    <select id="getOrderByOrderId" parameterType="java.lang.Integer" resultType="com.me.mps.dto.OrderDTO">
        SELECT
              o.order_id AS orderId,
              o.user_id AS userId,
              o.total_n AS totalN,
              o.number_x AS numberX,
              o.status_x AS statusX,
              o.crtBy_m AS crtByM,
              o.crtOn_dt AS crtOnDt
        FROM mps_order o
        WHERE o.order_id = #{orderId,jdbcType=INTEGER}
    </select>

</mapper>